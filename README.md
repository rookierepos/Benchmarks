# Benchmarks

## MessagePack-Csharp vs Protobuf-net vs Newtonsoft.Json

```
BenchmarkDotNet=v0.11.3, OS=Windows 10.0.17763.194 (1809/October2018Update/Redstone5)
Intel Xeon CPU E3-1230 v3 3.30GHz, 1 CPU, 8 logical and 4 physical cores
.NET Core SDK=3.0.100-preview-009812
  [Host] : .NET Core 2.2.0 (CoreCLR 4.6.27110.04, CoreFX 4.6.27110.04), 64bit RyuJIT
  Core   : .NET Core 2.2.0 (CoreCLR 4.6.27110.04, CoreFX 4.6.27110.04), 64bit RyuJIT

Job=Core  Runtime=Core

               Method | Count |            Mean |          Error |           StdDev |          Median | Ratio | RatioSD | Rank |  ByteSize | Gen 0/1k Op | Gen 1/1k Op | Gen 2/1k Op | Allocated Memory/Op |
--------------------- |------ |----------------:|---------------:|-----------------:|----------------:|------:|--------:|-----:|----------:|------------:|------------:|------------:|--------------------:|
      MspackSerialize |     1 |        406.4 ns |       7.933 ns |        10.032 ns |        404.6 ns |  1.00 |    0.00 |    1 |      75 B |      0.0472 |           - |           - |               200 B |
   LZ4MspackSerialize |     1 |        756.4 ns |      15.083 ns |        19.612 ns |        760.9 ns |  1.86 |    0.05 |    2 |      88 B |      0.0486 |           - |           - |               208 B |
       ProtoSerialize |     1 |      1,007.0 ns |      22.090 ns |        62.304 ns |      1,002.4 ns |  2.50 |    0.12 |    3 |      53 B |      0.1736 |           - |           - |               736 B |
        JsonSerialize |     1 |      1,515.5 ns |      30.236 ns |        67.001 ns |      1,505.6 ns |  3.74 |    0.21 |    4 |     116 B |      0.4025 |           - |           - |              1696 B |
                      |       |                 |                |                  |                 |       |         |      |           |             |             |             |                     |
    MspackDeserialize |     1 |        374.2 ns |       7.512 ns |         9.500 ns |        372.6 ns |  1.00 |    0.00 |    1 |         - |      0.0491 |           - |           - |               208 B |
 LZ4MspackDeserialize |     1 |        468.1 ns |       9.332 ns |        21.441 ns |        466.1 ns |  1.24 |    0.07 |    2 |         - |      0.0491 |           - |           - |               208 B |
     ProtoDeserialize |     1 |      1,398.9 ns |      26.898 ns |        32.020 ns |      1,405.5 ns |  3.74 |    0.11 |    3 |         - |      0.1316 |           - |           - |               552 B |
      JsonDeserialize |     1 |      2,715.5 ns |      55.091 ns |       128.773 ns |      2,707.7 ns |  7.11 |    0.35 |    4 |         - |      0.6866 |           - |           - |              2888 B |
                      |       |                 |                |                  |                 |       |         |      |           |             |             |             |                     |
      MspackSerialize |    10 |      3,877.1 ns |      74.497 ns |        79.711 ns |      3,889.0 ns |  1.00 |    0.00 |    1 |     743 B |      0.3204 |           - |           - |              1376 B |
   LZ4MspackSerialize |    10 |      7,767.8 ns |     156.201 ns |       349.366 ns |      7,687.5 ns |  2.04 |    0.13 |    2 |     286 B |      0.3357 |           - |           - |              1464 B |
       ProtoSerialize |    10 |      9,551.7 ns |     188.612 ns |       406.006 ns |      9,559.5 ns |  2.52 |    0.14 |    3 |     542 B |      1.6022 |           - |           - |              6736 B |
        JsonSerialize |    10 |     15,614.0 ns |     312.216 ns |       623.530 ns |     15,570.3 ns |  4.01 |    0.19 |    4 |   1.13 KB |      3.8757 |           - |           - |             16344 B |
                      |       |                 |                |                  |                 |       |         |      |           |             |             |             |                     |
    MspackDeserialize |    10 |      3,880.3 ns |      82.122 ns |       235.624 ns |      3,799.1 ns |  1.00 |    0.00 |    1 |         - |      0.3471 |           - |           - |              1464 B |
 LZ4MspackDeserialize |    10 |      4,505.6 ns |      89.878 ns |       139.928 ns |      4,473.4 ns |  1.13 |    0.08 |    2 |         - |      0.3433 |           - |           - |              1464 B |
     ProtoDeserialize |    10 |     13,968.8 ns |     275.861 ns |       511.326 ns |     13,962.5 ns |  3.52 |    0.23 |    3 |         - |      1.1597 |           - |           - |              4904 B |
      JsonDeserialize |    10 |     26,841.1 ns |     536.386 ns |     1,477.362 ns |     26,427.3 ns |  6.93 |    0.48 |    4 |         - |      6.7139 |           - |           - |             28264 B |
                      |       |                 |                |                  |                 |       |         |      |           |             |             |             |                     |
      MspackSerialize |   100 |     38,367.6 ns |     756.059 ns |     1,220.894 ns |     38,047.0 ns |  1.00 |    0.00 |    1 |   7.41 KB |      2.9907 |           - |           - |             12600 B |
   LZ4MspackSerialize |   100 |     72,228.2 ns |   1,420.764 ns |     1,459.020 ns |     72,538.3 ns |  1.87 |    0.07 |    2 |    2.1 KB |      3.2959 |           - |           - |             14128 B |
       ProtoSerialize |   100 |     96,041.7 ns |   1,931.927 ns |     3,532.637 ns |     95,518.6 ns |  2.50 |    0.13 |    3 |   5.45 KB |     15.7471 |           - |           - |             66208 B |
        JsonSerialize |   100 |    168,631.9 ns |   3,362.557 ns |     8,248.410 ns |    167,922.3 ns |  4.37 |    0.29 |    4 |  11.54 KB |     38.8184 |           - |           - |            162928 B |
                      |       |                 |                |                  |                 |       |         |      |           |             |             |             |                     |
    MspackDeserialize |   100 |     36,358.9 ns |     711.972 ns |       974.555 ns |     36,161.0 ns |  1.00 |    0.00 |    1 |         - |      3.3569 |           - |           - |             14128 B |
 LZ4MspackDeserialize |   100 |     45,554.2 ns |     901.771 ns |     2,483.739 ns |     44,928.9 ns |  1.27 |    0.08 |    2 |         - |      3.3569 |           - |           - |             14128 B |
     ProtoDeserialize |   100 |    147,632.3 ns |   2,936.934 ns |     7,889.881 ns |    146,674.8 ns |  4.01 |    0.21 |    3 |         - |     11.4746 |           - |           - |             48528 B |
      JsonDeserialize |   100 |    291,025.5 ns |   6,194.535 ns |    17,971.468 ns |    287,071.3 ns |  8.00 |    0.50 |    4 |         - |     66.8945 |           - |           - |            282128 B |
                      |       |                 |                |                  |                 |       |         |      |           |             |             |             |                     |
      MspackSerialize | 10000 |  6,554,112.5 ns | 130,560.837 ns |   122,126.688 ns |  6,522,702.5 ns |  1.00 |    0.00 |    1 | 798.25 KB |    226.5625 |    101.5625 |     31.2500 |           1374531 B |
   LZ4MspackSerialize | 10000 | 10,916,109.9 ns | 218,122.366 ns |   539,144.447 ns | 10,823,219.2 ns |  1.69 |    0.05 |    2 | 202.43 KB |    234.3750 |    125.0000 |     31.2500 |           1462393 B |
       ProtoSerialize | 10000 | 15,172,169.4 ns | 299,689.619 ns |   410,218.533 ns | 15,096,168.9 ns |  2.33 |    0.10 |    3 | 593.42 KB |   1265.6250 |    500.0000 |    218.7500 |           6738644 B |
        JsonSerialize | 10000 | 27,102,561.5 ns | 521,811.729 ns |   714,261.785 ns | 27,310,210.2 ns |  4.16 |    0.16 |    4 |   1.18 MB |   3187.5000 |   1312.5000 |    593.7500 |          16453456 B |
                      |       |                 |                |                  |                 |       |         |      |           |             |             |             |                     |
    MspackDeserialize | 10000 |  6,971,754.8 ns | 137,892.377 ns |   214,681.819 ns |  6,999,475.7 ns |  1.00 |    0.00 |    1 |         - |    250.0000 |    109.3750 |     31.2500 |           1534456 B |
 LZ4MspackDeserialize | 10000 |  8,132,888.8 ns | 160,051.493 ns |   258,453.327 ns |  8,182,932.9 ns |  1.17 |    0.05 |    2 |         - |    250.0000 |    109.3750 |     31.2500 |           1534441 B |
     ProtoDeserialize | 10000 | 20,580,322.5 ns | 404,842.873 ns |   449,981.781 ns | 20,515,543.8 ns |  2.97 |    0.11 |    3 |         - |    906.2500 |    343.7500 |    125.0000 |           4974743 B |
      JsonDeserialize | 10000 | 36,738,787.1 ns | 724,291.554 ns | 1,543,524.354 ns | 36,560,615.4 ns |  5.29 |    0.33 |    4 |         - |   6153.8462 |   2000.0000 |    384.6154 |          28334828 B |
```
